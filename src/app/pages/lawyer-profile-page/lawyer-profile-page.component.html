<div class="lawyer-profile-page">
  <app-responsive-header/>
  <div class="page-wrapper">
    <aside>
      <p class="h1">{{ lawyer?.firstName }} {{ lawyer?.lastName }}</p>
      <p class="flourish">~</p>
      <div class="bio container">
        <div class="row text-center">
          <div class="col-md-6">
            <p><i class="ri-map-pin-2-line icon"></i>{{ lawyer?.cityResponse.name }}</p>
          </div>
          @if(lawyer?.contactTelNo){
            <div class="col-md-6">
              <p><i class="ri-phone-line icon"></i>{{ lawyer?.contactTelNo }}</p>
            </div>
          }
        </div>
        <div class="row  text-center">
          @if(lawyer?.contactEmail){
            <div class="col-md-6">
              <p><i class="ri-mail-line icon"></i>{{ lawyer?.contactEmail }}</p>
            </div>
          }
          @if(lawyer?.contactTwitterUrl){
            <div class="col-md-6">
              <p><i class="ri-twitter-x-line icon"></i>&#64;{{ lawyer?.contactTwitterUrl }}</p>
            </div>
          }
        </div>
        <div class="row text-center">
          @if(lawyer?.contactInstagramUrl){
            <div class="col-md-6">
              <p><i class="ri-instagram-line icon"></i>{{ lawyer?.contactInstagramUrl }}</p>
            </div>
          }
          @if(lawyer?.contactFaceBookUrl){
            <div class="col-md-6">
              <p><i class="ri-facebook-circle-line icon"></i>{{ lawyer?.contactFaceBookUrl }}</p>
            </div>
          }
        </div>
        <div class="row text-center">
          <p><i class="ri-road-map-line icon"></i>{{ lawyer?.addressResponse?.city }}/
            {{ lawyer?.addressResponse?.state }}/{{ lawyer?.addressResponse?.street }}/
            {{ lawyer?.addressResponse?.alley }}/
            {{ lawyer?.addressResponse?.postalCode }}</p>
        </div>
      </div>
    </aside>
    <article>
      <div class="image">
        <img alt="lawyyer-photo" [src]="'data:image/jpg;base64,'+ lawyer?.lawyerPhoto"/></div>
      <div class="text">
        <p>{{ lawyer?.aboutMe }}</p>
      </div>
      @if(lawyer?.articleResponseList?.length > 0){
        <p class="h4">ARTICLES</p>
        <div class="articles container">
          <div class="row">
            @for (article of lawyer?.articleResponseList; track article.id) {
              <div class="col-md-4 mb-4 d-flex justify-content-center">
                <div class="card" style="width: 15rem;">
                  <img [src]="'data:image/jpg;base64,'+ article?.photo" class="card-img-top" alt="...">
                  <div class="card-body">
                    <p class="card-text">{{article.header}}</p>
                  </div>
                </div>
              </div>
            }
          </div>
        </div>
      }
      @if(lawyer?.expertiseFieldResponseList?.length > 0) {
        <p class="h4">EXPERTISE FIELDS</p>
        <mat-tree class="tree" [dataSource]="dataSource" [treeControl]="treeControl">
          <!-- This is the tree node template for leaf nodes -->
          <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
            <!-- use a disabled button to provide padding for tree leaf -->
            <button mat-icon-button disabled></button>
            {{ node.name }}
          </mat-tree-node>
          <!-- This is the tree node template for expandable nodes -->
          <mat-tree-node *matTreeNodeDef="let node;when: hasChild" matTreeNodePadding>
            <button mat-icon-button matTreeNodeToggle
                    [attr.aria-label]="'Toggle ' + node.name">
              <mat-icon class="mat-icon-rtl-mirror">
                {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}
              </mat-icon>
            </button>
            {{ node.name }}
          </mat-tree-node>
        </mat-tree>
      }
      @if(lawyer?.commonQuestionResponseList?.length > 0){
        <p class="h4">COMMON QUESTIONS</p>
        <div class="common-questions">
          <mat-accordion>
            @for(question of lawyer.commonQuestionResponseList ; track question.id){
              <mat-expansion-panel hideToggle>
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    {{question.questionLine}}
                  </mat-panel-title>
                </mat-expansion-panel-header>
                <p>{{question.answerLine}}</p>
              </mat-expansion-panel>
            }
          </mat-accordion>
        </div>
      }
    </article>
  </div>
</div>
